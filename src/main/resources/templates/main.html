<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8"/>
    <title>메인</title>
    <style>
        body { font-family: sans-serif; max-width: 900px; margin: 24px auto; }
        nav a { margin-right: 10px; }
        .badge { color: #0a7; font-weight: bold; margin-right: 10px; }
        .error { color: #c00; }
    </style>
</head>
<body>

<header>
    <!-- 관리자 배지 -->
    <div>
        <span class="badge" th:if="${session.isAdmin}">✅ 관리자페이지입니다</span>
        <span th:if="${session.loginUser != null and !session.isAdmin}">
      안녕하세요, <b th:text="${session.loginUser.username}">user</b> 님
    </span>
    </div>

    <!-- 관리자 전용 메뉴 -->
    <nav th:if="${session.isAdmin}">
        <a th:href="@{/admin}">관리자 대시보드</a>
        <a th:href="@{/users/list}">회원관리</a>
        <a th:href="@{/quiz/manage}">퀴즈관리</a>
        <a th:href="@{/results/all}">결과 전체보기</a>
        <a th:href="@{/users/logout}">로그아웃</a>
    </nav>

    <!-- 일반 사용자 메뉴 -->
    <nav th:if="${session.loginUser != null and !session.isAdmin}">
        <a th:href="@{/quiz}">퀴즈 풀기</a>
        <a th:href="@{/results/my}">내 결과</a>
        <a th:href="@{/users/logout}">로그아웃</a>
    </nav>

    <!-- 비로그인 메뉴 (관리자일 땐 안 보임) -->
    <nav th:if="${session.loginUser == null}">
        <a th:href="@{/users/login}">로그인</a>
        <a th:href="@{/users/register}">회원가입</a>
    </nav>
</header>

<hr/>

<main>
    <h1>퀴즈 시스템</h1>
    <p>상단 메뉴를 통해 이동하세요.</p>
    <p class="error" th:if="${error != null}" th:text="${error}"></p>
    <p th:if="${msg != null}" th:text="${msg}"></p>
</main>

</body>
</html>
