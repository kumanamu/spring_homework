<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
  <meta charset="UTF-8"/>
  <title>로그인</title>
  <style>
    body { font-family: sans-serif; max-width: 480px; margin: 40px auto; }
    form { display: grid; gap: 12px; }
    input { padding: 8px; }
    .error { color: #c00; margin-top: 8px; }
    a { margin-right: 8px; }
  </style>
</head>
<body>

<!-- 이미 로그인된 경우(옵션): 안내 -->
<div th:if="${session.loginUser != null}">
  <p>
    이미 로그인되어 있습니다.
    <a th:href="@{${session.isAdmin} ? '/admin' : '/'}">이동</a>
  </p>
</div>

<!-- 로그인 폼 (로그인 상태라도 굳이 막지는 않으나, 안내로 충분) -->
<h2>로그인</h2>
<form th:action="@{/users/login}" method="post">
  <label>
    아이디
    <input type="text" name="username" required/>
  </label>
  <label>
    비밀번호
    <input type="password" name="password" required/>
  </label>
  <button type="submit">로그인</button>
</form>

<p class="error" th:if="${error != null}" th:text="${error}"></p>

<!-- 관리자면 로그인/회원가입 링크를 숨김 -->
<p th:if="${session.isAdmin == null or !session.isAdmin}">
  <a th:href="@{/}">메인으로</a>
  <a th:href="@{/users/register}">회원가입</a>
</p>

</body>
</html>
